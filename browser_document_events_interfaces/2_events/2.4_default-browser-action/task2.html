<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<style>
			#contents {
				padding: 5px;
				border: 1px green solid;
			}
		</style>
		<title>Поймайте переход по ссылке</title>
	</head>
	<body>
		<fieldset class="contents">
			<legend>#contents</legend>
			<p>
				Как насчёт того, чтобы прочитать
				<a href="https://wikipedia.org">Википедию</a> или посетить
				<a href="https://w3.org"><i>W3.org</i></a> и узнать о современных
				стандартах?
			</p>
		</fieldset>
		<script>
			'use strict';
			const contents = document.querySelector('.contents');
			contents.onclick = function (event) {
				function handleLink(href) {
					let isLeaving = confirm(`Leave for ${href}?`);
					if (!isLeaving) return false;
				}

				let target = event.target.closest('a');

				if (target && contents.contains(target)) {
					return handleLink(target.getAttribute('href'));
				}
			};
		</script>
	</body>
</html>
